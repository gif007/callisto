{% extends "game.html" %}

{% block main %}
    <div class='Workshop'>
        {% if mech %}
        <div class='MechCard'>
            <h2 class='MechCardBanner'>{{mech}}</h2>
            <div class='MechCardTabs'>
                <span class='Before'></span>
                <h3 id='equip' class='MechCardActive'>Equipment</h3>
                <h3 id='stats' class='MechCardInactive'>Stats</h3>
                <span class='After'></span>
            </div>
            <div id='equipment' class='MechCardEquipment'>
                <a href="{% url 'equipment' 'helm' mech.helm.id %}">{{mech.helm}}</a>
                
                <a href="{% url 'equipment' 'chest' mech.helm.id %}">{{mech.chest}}</a>
                
                <a href="{% url 'equipment' 'leftarm' mech.helm.id %}">{{mech.left_arm}}</a>
                
                <a href="{% url 'equipment' 'rightarm' mech.helm.id %}">{{mech.right_arm}}</a>
                
                <a href="{% url 'equipment' 'legs' mech.helm.id %}">{{mech.legs}}</a>
                
            </div>
            
            <div id='statblock' class='MechCardStats'>
                <span>HP: {{mech.current_hp}}/{{mech.max_hp}}</span>
                <span>Firepower: {{mech.get_firepower_value}}</span>
                <span>Armor: {{mech.get_armor_value}}</span>
                <span>Speed: {{mech.get_speed_value}}</span>
                <span>Vision: {{mech.get_sight_value}}</span>
            </div>
        </div>
        {% endif %}
    </div>
    
    <script>
       
            const equip = document.querySelector('h3#equip');
            const equipment = document.querySelector('div#equipment');
            const stats = document.querySelector('h3#stats');
            const statblock = document.querySelector('div#statblock');


            equip.addEventListener('click', function(){
                if (equip.className != 'MechCardActive') {
                    equip.className = 'MechCardActive';
                    stats.className = 'MechCardInactive';
                    equipment.style.display = 'flex';
                    statblock.style.display = 'none';
                }
            })

            stats.addEventListener('click', function(){
                if (stats.className != 'MechCardActive') {
                    equip.className = 'MechCardInactive';
                    stats.className = 'MechCardActive';
                    statblock.style.display = 'flex';
                    equipment.style.display = 'none';
                }
            })
        
    </script>
{% endblock %}